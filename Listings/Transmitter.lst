C51 COMPILER V9.54   TRANSMITTER                                                           09/28/2015 16:38:16 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE TRANSMITTER
OBJECT MODULE PLACED IN .\Objects\Transmitter.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Transmitter.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\Transmitter.lst) TABS(2) OBJECT(.\Objects\Transmitter.obj)

line level    source

   1          //Transmitter
   2          //Group 1
   3          /**
   4          Muppirala Viswa Virinchi
   5          Sai Ritwik
   6          Gokul Koraganji
   7          **/
   8          #include "at89c5131.h"
   9          #include "stdio.h"
  10          #define KEY P0
  11          
  12          void SerTx(unsigned char x);
  13          void MSDelay(unsigned int value);
  14          
  15          unsigned char keypad[4][4]= {
  16            '0','1','2','3',
  17            '4','5','6','7',
  18            '8','9','A','B',
  19            'C','D','E','F',
  20          };
  21          
  22          void main()
  23          {
  24   1      
  25   1        unsigned char colloc, rowloc;
  26   1        TMOD = 0x20;//timer 1 mode 2
  27   1        TH1 = -6; //4800 baud
  28   1        SCON = 0x50;//1stop bit and 8-bit long
  29   1        TR1 = 1;//Start Timer
  30   1        KEY = 0xFF;//Read from this port
  31   1        while(1){
  32   2          do{
  33   3            KEY = 0x0F;
  34   3            colloc = KEY;
  35   3            colloc &=0x0F;
  36   3            }while(colloc != 0x0F);
  37   2          do{
  38   3      
  39   3            do{
  40   4      
  41   4              MSDelay(20);
  42   4              colloc = KEY;
  43   4              colloc &= 0x0F;
  44   4            }while(colloc == 0x0F);
  45   3      
  46   3            MSDelay(20);
  47   3            colloc = KEY;
  48   3            colloc &= 0x0F;
  49   3      
  50   3          }while(colloc == 0x0F);
  51   2          while(1){
  52   3            KEY=0xEF;
  53   3            colloc = KEY;
  54   3            colloc &= 0x0F;
C51 COMPILER V9.54   TRANSMITTER                                                           09/28/2015 16:38:16 PAGE 2   

  55   3            if(colloc != 0x0F)
  56   3            {
  57   4              rowloc =0;
  58   4              break;
  59   4            }
  60   3      
  61   3            KEY=0xDF;
  62   3            colloc = KEY;
  63   3            colloc &= 0x0F;
  64   3            if(colloc != 0x0F)
  65   3            {
  66   4              rowloc =1;
  67   4              break;
  68   4            }
  69   3      
  70   3      
  71   3            KEY=0xBF;
  72   3            colloc = KEY;
  73   3            colloc &= 0x0F;
  74   3            if(colloc != 0x0F)
  75   3            {
  76   4              rowloc =2;
  77   4              break;
  78   4            }
  79   3      
  80   3      
  81   3            KEY=0x7F;
  82   3            colloc = KEY;
  83   3            colloc &= 0x0F;
  84   3            rowloc =3;
  85   3            break;
  86   3          }
  87   2          if(colloc == 0x0E)
  88   2            SerTx(keypad[rowloc][0]);
  89   2          else if(colloc == 0x0D)
  90   2            SerTx(keypad[rowloc][1]);
  91   2          else if(colloc == 0x0B)
  92   2            SerTx(keypad[rowloc][2]);   
  93   2          else
  94   2            SerTx(keypad[rowloc][3]);   
  95   2            
  96   2        }
  97   1      }
  98          
  99          void SerTx(unsigned char x)
 100          {
 101   1        SBUF = x;
 102   1        while(TI==0);
 103   1        TI = 0;
 104   1      }
 105          
 106          void MSDelay(unsigned int value)
 107          {
 108   1        unsigned int x, y;
 109   1        for(x=0;x<1275;x++)
 110   1          for(y=0;y<value;y++);
 111   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    247    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.54   TRANSMITTER                                                           09/28/2015 16:38:16 PAGE 3   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     16       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
